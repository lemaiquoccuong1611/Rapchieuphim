{"ast":null,"code":"import * as types from '../constants/TheaterSystemManageConstant';\nimport axios from 'axios';\nimport { settings } from '../../config/settings';\nimport { HeThongRap } from '../models/HeThongRap'; // Get theater system\n\nexport const getTheaterSystemListAction = () => {\n  let theaterSystemArray = [];\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + '/QuanLyHeThongRap/LayThongTinHeThongRap',\n      method: 'GET'\n    }).then(result => {\n      theaterSystemArray = result.data;\n      console.log('arrayPromise', theaterSystemArray);\n    }).then(() => {\n      let arrayPromise = [];\n\n      for (let lichChieu of theaterSystemArray) {\n        const promise = axios({\n          url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinLichChieuTheoHeThong?MaHeThongRap=${lichChieu.MaHeThongRap}`,\n          method: 'GET'\n        }).then(res => {\n          lichChieu.mangLichChieu = res.data;\n        });\n        arrayPromise.push(promise);\n        console.log(\"lichChieu\", lichChieu.MaHeThongRap);\n      }\n\n      console.log('theaterSystemArray2', theaterSystemArray);\n      Promise.all(arrayPromise).then(() => {\n        // Kết quả nhận được\n        console.log('theaterSystemArray2', theaterSystemArray); // Dispatch action tại đây\n\n        dispatch({\n          type: types.GET_THEATER_SYSTEM_LIST,\n          theaterSystemArray: theaterSystemArray\n        });\n      });\n    }).catch(errors => {//Log ra lỗi backend trả về\n      // console.log(errors.response.data);\n    });\n  };\n}; // Get theater area\n\nexport const getTheaterListAction = maHeThongRap => {\n  return dispatch => {\n    axios({\n      url: settings.domain + `/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getTheaterListAction\", result);\n      dispatch({\n        type: types.GET_THEATER_LIST,\n        theaterArray: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Lấy thông tin lịch chiếu hệ thống rạp\n\nexport const getLichChieuHTRListAction = maHeThongRap => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinLichChieuTheoHeThong?MaHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getLichChieuHTRAction\", result.data);\n      dispatch({\n        type: types.GET_TTLC_SYSTEM_LIST,\n        lichChieuHTRArray: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Lấy danh sách hệ thống rạp\n\nexport const getHeThongRapListAction = () => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinHeThongRap`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getHeThongRapListAction\", result.data);\n      dispatch({\n        type: types.GET_HTR_LIST,\n        HTRArray: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Lấy danh sách cụm rạp theo hệ thống rạp\n\nexport const getCumRapListAction = maHeThongRap => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachCumRapTheoHeThong?maHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getCumRapListAction\", result.data);\n      dispatch({\n        type: types.GET_CUMRAP_LIST,\n        cumRapInfor: result.data,\n        rapArray: result.data.DanhSachRap\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Lấy danh sách rạp thuộc cụm rạp\n\nexport const getRapListAction = maCumRap => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachRap?maCumRap=${maCumRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getRapListAction\", result.data);\n      dispatch({\n        type: types.GET_RAP_LIST,\n        danhSachRap: result.data.DanhSachRap,\n        thongTinCumRap: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Lấy danh sách ghế thuộc rạp\n\nexport const getGheListAction = maRap => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachGheTheoRap?maRap=${maRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getGheListAction\", result.data);\n      dispatch({\n        type: types.GET_GHE_LIST,\n        danhSachGhe: result.data.DanhSachGhe\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // THÊM GHẾ\n\nexport const themGheAction = mangGheThem => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/ThemGhe`,\n      method: 'Post',\n      data: mangGheThem\n    }).then(result => {\n      console.log(\"themGheAction\", result.data);\n      dispatch({\n        type: types.THEM_GHE,\n        themGheResult: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Acer/Desktop/React54/src/redux/actions/TheaterSystemManageAction.jsx"],"names":["types","axios","settings","HeThongRap","getTheaterSystemListAction","theaterSystemArray","dispatch","url","domainLocal","method","then","result","data","console","log","arrayPromise","lichChieu","promise","MaHeThongRap","res","mangLichChieu","push","Promise","all","type","GET_THEATER_SYSTEM_LIST","catch","errors","getTheaterListAction","maHeThongRap","domain","GET_THEATER_LIST","theaterArray","getLichChieuHTRListAction","GET_TTLC_SYSTEM_LIST","lichChieuHTRArray","getHeThongRapListAction","GET_HTR_LIST","HTRArray","getCumRapListAction","GET_CUMRAP_LIST","cumRapInfor","rapArray","DanhSachRap","getRapListAction","maCumRap","GET_RAP_LIST","danhSachRap","thongTinCumRap","getGheListAction","maRap","GET_GHE_LIST","danhSachGhe","DanhSachGhe","themGheAction","mangGheThem","THEM_GHE","themGheResult"],"mappings":"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","sourcesContent":["import * as types from '../constants/TheaterSystemManageConstant';\nimport axios from 'axios';\nimport { settings } from '../../config/settings'\nimport { HeThongRap } from '../models/HeThongRap';\n\n// Get theater system\nexport const getTheaterSystemListAction = () => {\n  let theaterSystemArray = [];\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + '/QuanLyHeThongRap/LayThongTinHeThongRap',\n      method: 'GET'\n    }).then(result => {\n      theaterSystemArray = result.data\n      console.log('arrayPromise', theaterSystemArray);\n    })\n    .then(() => {\n      let arrayPromise = [];\n      for (let lichChieu of theaterSystemArray) {\n        const promise = axios({\n          url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinLichChieuTheoHeThong?MaHeThongRap=${lichChieu.MaHeThongRap}`,\n          method: 'GET'\n        }).then(res => {\n          lichChieu.mangLichChieu = res.data;\n        });\n        arrayPromise.push(promise);\n        console.log(\"lichChieu\", lichChieu.MaHeThongRap);\n        \n      }\n      console.log('theaterSystemArray2', theaterSystemArray);\n      Promise.all(arrayPromise).then(() => {\n        // Kết quả nhận được\n        console.log('theaterSystemArray2', theaterSystemArray);\n        // Dispatch action tại đây\n        dispatch({\n          type: types.GET_THEATER_SYSTEM_LIST,\n          theaterSystemArray: theaterSystemArray\n        })\n      })\n    })\n    .catch((errors) => {\n      //Log ra lỗi backend trả về\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n\n// Get theater area\nexport const getTheaterListAction = (maHeThongRap) => {\n  return dispatch => {\n    axios({\n      url: settings.domain + `/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getTheaterListAction\", result);\n      dispatch({\n        type: types.GET_THEATER_LIST,\n        theaterArray: result.data\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n// Lấy thông tin lịch chiếu hệ thống rạp\nexport const getLichChieuHTRListAction = (maHeThongRap) => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinLichChieuTheoHeThong?MaHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getLichChieuHTRAction\", result.data);\n      dispatch({\n        type: types.GET_TTLC_SYSTEM_LIST,\n        lichChieuHTRArray: result.data\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n// Lấy danh sách hệ thống rạp\nexport const getHeThongRapListAction = () => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyHeThongRap/LayThongTinHeThongRap`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getHeThongRapListAction\", result.data);\n      dispatch({\n        type: types.GET_HTR_LIST,\n        HTRArray: result.data\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n\n// Lấy danh sách cụm rạp theo hệ thống rạp\nexport const getCumRapListAction = (maHeThongRap) => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachCumRapTheoHeThong?maHeThongRap=${maHeThongRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getCumRapListAction\", result.data);\n      dispatch({\n        type: types.GET_CUMRAP_LIST,\n        cumRapInfor: result.data,\n        rapArray: result.data.DanhSachRap \n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n// Lấy danh sách rạp thuộc cụm rạp\nexport const getRapListAction = (maCumRap) => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachRap?maCumRap=${maCumRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getRapListAction\", result.data);\n      dispatch({\n        type: types.GET_RAP_LIST,\n        danhSachRap: result.data.DanhSachRap,\n        thongTinCumRap: result.data\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n\n// Lấy danh sách ghế thuộc rạp\nexport const getGheListAction = (maRap) => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/LayDanhSachGheTheoRap?maRap=${maRap}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getGheListAction\", result.data);\n      dispatch({\n        type: types.GET_GHE_LIST,\n        danhSachGhe: result.data.DanhSachGhe\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n// THÊM GHẾ\nexport const themGheAction = (mangGheThem) => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/ThemGhe`,\n      method: 'Post',\n      data: mangGheThem\n    }).then(result => {\n      console.log(\"themGheAction\", result.data);\n      dispatch({\n        type: types.THEM_GHE,\n        themGheResult: result.data\n      })\n    }).catch((errors) => {\n      // console.log(errors.response.data);\n    })\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}