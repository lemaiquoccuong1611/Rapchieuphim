{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\React54\\\\src\\\\Props\\\\PropsWithEvent\\\\ProductList.js\";\nimport React, { Component } from \"react\";\nimport productList from \"../data/productList.json\";\nimport Product from \"./Product\";\nimport Modal from \"./Modal\";\nexport class ProductList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productDetail: productList[0],\n      cart: []\n    };\n\n    this.renderProductListHandler = () => {\n      return productList.map((product, index) => {\n        return /*#__PURE__*/_jsxDEV(Product, {\n          onViewDetail: this.viewDetailHandler,\n          onAddToCart: this.addToCartHandler,\n          prod: product\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 9\n        }, this);\n      });\n    };\n\n    this.viewDetailHandler = product => {\n      this.setState({\n        productDetail: product\n      });\n    };\n\n    this.addToCartHandler = product => {\n      const index = this.state.cart.findIndex(prod => prod.maSP === product.maSP);\n\n      if (index !== -1) {\n        const cartUpdate = [...this.state.cart];\n        cartUpdate[index].soLuong += 1;\n        this.setState({\n          cart: cartUpdate\n        });\n      } else {\n        const productUpdate = { ...product,\n          soLuong: 1\n        };\n        this.setState({\n          cart: [...this.state.cart, productUpdate]\n        });\n      }\n    };\n\n    this.deleteItem = maSPClick => {\n      // console.log(maSP);\n      //Tạo ra 1 giỏ hàng mới giống giá trị giỏ hàng cũ\n      let gioHangCapNhat = [...this.state.cart]; //Xử lý xoá trên giỏ hàng mới\n\n      let index = gioHangCapNhat.findIndex(spGH => spGH.maSP === maSPClick);\n\n      if (index !== -1) {\n        gioHangCapNhat.splice(index, 1);\n      } //Gán lại giỏ hàng cũ bằng giỏ hàng mới\n\n\n      this.setState({\n        cart: gioHangCapNhat\n      });\n    };\n\n    this.tangGiamSoLuong = (maSPClick, soLuong) => {\n      // console.log(maSP,soLuong);\n      let gioHangCapNhat = [...this.state.cart]; //Tìm trong giỏ hàng có sản phẩm mã == với sản phẩm được click + hoặc - \n\n      let spGioHang = gioHangCapNhat.find(spGH => spGH.maSP === maSPClick); //Tìm thấy sp trong giỏ hàng \n\n      if (spGioHang) {\n        spGioHang.soLuong += soLuong;\n      } //Cập nhật lại giỏ hàng\n\n\n      this.setState({\n        cart: gioHangCapNhat\n      });\n    };\n  }\n\n  render() {\n    const {\n      productDetail,\n      cart\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        cart: cart,\n        deleteItem: this.deleteItem,\n        tangGiamSoLuong: this.tangGiamSoLuong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.renderProductListHandler()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: productDetail.tenSP\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: productDetail.hinhAnh,\n            width: \"300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"M\\xE0n h\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.manHinh\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"H\\u1EC7 \\u0111i\\u1EC1u h\\xE0nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.heDieuHanh\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Camera tr\\u01B0\\u1EDBc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.cameraTruoc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Camera sau\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.cameraSau\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"RAM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.ram\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ROM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: productDetail.rom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nexport default ProductList;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/React54/src/Props/PropsWithEvent/ProductList.js"],"names":["React","Component","productList","Product","Modal","ProductList","state","productDetail","cart","renderProductListHandler","map","product","index","viewDetailHandler","addToCartHandler","setState","findIndex","prod","maSP","cartUpdate","soLuong","productUpdate","deleteItem","maSPClick","gioHangCapNhat","spGH","splice","tangGiamSoLuong","spGioHang","find","render","tenSP","hinhAnh","manHinh","heDieuHanh","cameraTruoc","cameraSau","ram","rom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport productList from \"../data/productList.json\";\nimport Product from \"./Product\";\nimport Modal from \"./Modal\";\n\nexport class ProductList extends Component {\n  state = {\n    productDetail: productList[0],\n    cart: [],\n  };\n\n  renderProductListHandler = () => {\n    return productList.map((product, index) => {\n      return (\n        <Product\n          onViewDetail={this.viewDetailHandler}\n          onAddToCart={this.addToCartHandler}\n          prod={product}\n          key={index}\n        />\n      );\n    });\n  };\n\n  viewDetailHandler = (product) => {\n    this.setState({\n      productDetail: product,\n    });\n  };\n\n  addToCartHandler = (product) => {\n    const index = this.state.cart.findIndex(\n      (prod) => prod.maSP === product.maSP\n    );\n\n    if (index !== -1) {\n      const cartUpdate = [...this.state.cart];\n      cartUpdate[index].soLuong += 1;\n\n      this.setState({\n        cart: cartUpdate,\n      });\n    } else {\n      const productUpdate = { ...product, soLuong: 1 };\n      this.setState({\n        cart: [...this.state.cart, productUpdate],\n      });\n    }\n  };\n  //Định nghĩa sự kiện xoá giỏ hàng tại nơi chứa state giỏ hàng\n  deleteItem = (maSPClick) => {\n    // console.log(maSP);\n    //Tạo ra 1 giỏ hàng mới giống giá trị giỏ hàng cũ\n    let gioHangCapNhat = [...this.state.cart];\n    //Xử lý xoá trên giỏ hàng mới\n    let index = gioHangCapNhat.findIndex(spGH => spGH.maSP === maSPClick);\n    if(index !== -1) {\n      gioHangCapNhat.splice(index,1);\n    }\n\n    //Gán lại giỏ hàng cũ bằng giỏ hàng mới\n    this.setState({\n      cart:gioHangCapNhat\n    });\n\n\n  }\n\n  //Định nghĩa hàm thay đổi số lượng tại nơi chứa state số lượng (số lượng nằm trong cart[])\n  tangGiamSoLuong = (maSPClick,soLuong) => {\n    // console.log(maSP,soLuong);\n\n    let gioHangCapNhat = [...this.state.cart];\n\n    //Tìm trong giỏ hàng có sản phẩm mã == với sản phẩm được click + hoặc - \n    let spGioHang = gioHangCapNhat.find(spGH => spGH.maSP === maSPClick);\n    //Tìm thấy sp trong giỏ hàng \n    if(spGioHang){\n      spGioHang.soLuong += soLuong;\n    }\n    //Cập nhật lại giỏ hàng\n    this.setState({cart:gioHangCapNhat});\n\n    \n  }\n\n\n  render() {\n    const { productDetail, cart } = this.state;\n    return (\n      <>\n        {/* Modal giỏ hàng */}\n        <Modal cart={cart} deleteItem={this.deleteItem} tangGiamSoLuong={this.tangGiamSoLuong}/>\n\n        <div className=\"row\">{this.renderProductListHandler()}</div>\n        {/* Thông tin chi tiết */}\n        <div className=\"row mt-4\">\n          <div className=\"col-6 text-center\">\n            <h5>{productDetail.tenSP}</h5>\n            <img src={productDetail.hinhAnh} width=\"300\" />\n          </div>\n          <div className=\"col-6\">\n            <h5>Thông số kỹ thuật</h5>\n            <table className=\"table\">\n              <tr>\n                <th>Màn hình</th>\n                <td>{productDetail.manHinh}</td>\n              </tr>\n              <tr>\n                <th>Hệ điều hành</th>\n                <td>{productDetail.heDieuHanh}</td>\n              </tr>\n              <tr>\n                <th>Camera trước</th>\n                <td>{productDetail.cameraTruoc}</td>\n              </tr>\n              <tr>\n                <th>Camera sau</th>\n                <td>{productDetail.cameraSau}</td>\n              </tr>\n              <tr>\n                <th>RAM</th>\n                <td>{productDetail.ram}</td>\n              </tr>\n              <tr>\n                <th>ROM</th>\n                <td>{productDetail.rom}</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}