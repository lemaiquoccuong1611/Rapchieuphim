{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\Frontend\\\\React54\\\\src\\\\components\\\\layoutAdmin\\\\TheaterManage\\\\TheaterAdmin.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getTheaterSystemListAction, getTheaterListAction } from '../../../redux/actions/TheaterSystemManageAction';\nimport { Button, Table, Icon, Modal, Form, Input, Menu, Dropdown } from 'antd';\nimport { isEqual } from 'lodash';\nimport { compose } from 'redux';\n\nclass TheaterAdmin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleTheaterSystem = () => {\n      this.showModal();\n    };\n\n    this.handleOk = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCancel = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleEditHTR = record => {\n      console.log(record);\n    };\n\n    this.state = {\n      visible: false,\n      maCumRap: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.getTheaterSystemList();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    console.log(\"nextProps\", nextProps);\n    console.log(\"prevState\", prevState);\n\n    if (!isEqual(nextProps.theaterArray, prevState)) {\n      return { ...prevState,\n        theaterArray: nextProps.theaterArray\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        span: 7\n      },\n      wrapperCol: {\n        span: 16\n      }\n    };\n\n    const menu = /*#__PURE__*/_jsxDEV(Menu, {\n      children: /*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Th\\xEAm C\\u1EE5m R\\u1EA1p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n\n    const columns = [{\n      title: 'Mã Hệ Thống Rạp',\n      width: 150,\n      dataIndex: 'MaHeThongRap',\n      key: 'MaHeThongRap',\n      sorter: (a, b) => a.MaHeThongRap.length - b.MaHeThongRap.length,\n      sortDirections: ['descend', 'ascend'],\n      align: 'center'\n    }, {\n      title: 'Logo',\n      dataIndex: 'Logo',\n      key: 'Logo',\n      width: 150,\n      align: 'center',\n      render: Logo => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Logo,\n        className: \"img-fluid\",\n        width: 50,\n        height: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 35\n      }, this)\n    }, {\n      title: 'Tên Hệ Thống Rạp',\n      dataIndex: 'TenHeThongRap',\n      key: 'TenHeThongRap',\n      width: 150,\n      align: 'center'\n    }, {\n      title: 'Bí Danh',\n      dataIndex: 'BiDanh',\n      key: 'BiDanh',\n      width: 150,\n      align: 'center'\n    }, {\n      title: 'Action',\n      key: 'operation',\n      width: 100,\n      align: 'center',\n      render: record => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"button__title__icon\",\n          type: \"primary\",\n          icon: \"edit\",\n          size: \"small\",\n          className: \"mr-2\",\n          onClick: () => this.handleEditHTR(record),\n          children: \" Edit \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button__title__icon mr-2\",\n          type: \"danger\",\n          icon: \"delete\",\n          size: \"small\",\n          children: \" X\\xF3a \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          overlay: menu,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              type: \"down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this)\n    }]; // Action dropdown\n\n    const userAction = ({\n      key,\n      record\n    }) => {\n      // if (key == 1) {\n      //     this.props.history.push('/profileuser/' + this.state.taiKhoanDangNhap.TaiKhoan)\n      // }\n      if (key == 2) {\n        this.props.history.push('/admin/rapmanage/' + this.state.maCumRap);\n      }\n    }; // Dropdown menu rạp\n\n\n    const menuCumRap = /*#__PURE__*/_jsxDEV(Menu, {\n      onClick: userAction,\n      children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Th\\xEAm r\\u1EA1p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Xem danh s\\xE1ch r\\u1EA1p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n\n    const expandedRowRender = record => {\n      const columnsExpended = [{\n        title: 'Mã Cụm Rạp',\n        dataIndex: 'MaCumRap',\n        key: 'MaCumRap'\n      }, {\n        title: 'Tên Cụm Rạp',\n        dataIndex: 'TenCumRap',\n        key: 'TenCumRap'\n      }, {\n        title: 'Địa Chỉ',\n        dataIndex: 'ThongTin',\n        key: 'ThongTin'\n      }, {\n        title: 'Action',\n        key: 'operation',\n        width: 100,\n        align: 'center' // render: (record) => (\n        //     <div className=\"d-flex justify-content-center\">\n        //           <Dropdown overlay={menuCumRap} trigger={['click']} onClick={() => {\n        //             this.setState({\n        //                 maCumRap: record.MaCumRap\n        //             });\n        //         }}>\n        //                 <a ><Icon type=\"down\" /></a>\n        //         </Dropdown>\n        //     </div>\n        // ),\n\n      }];\n      return /*#__PURE__*/_jsxDEV(Table, {\n        rowKey: record => record.MaHeThongRap,\n        onRow: (record, rowIndex) => {\n          return {\n            onDoubleClick: event => {\n              this.props.history.push('/admin/rapmanage/' + record.MaCumRap);\n            } // double click row                      \n\n          };\n        },\n        className: \"expend__cumRap\",\n        rowKey: record => record.MaCumRap,\n        columns: columnsExpended,\n        dataSource: record.DanhSachCumRap,\n        pagination: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 20\n      }, this);\n    };\n\n    const theaterSystemArray = this.props.theaterSystemArray;\n    console.log(\"theaterSystemArray\", theaterSystemArray);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn__Add mb-4 d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"button__title__icon\",\n          icon: \"plus\",\n          type: \"primary\",\n          onClick: () => this.handleTheaterSystem(),\n          children: \"Th\\xEAm H\\u1EC7 Th\\u1ED1ng R\\u1EA1p\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Icon, {\n          style: {\n            fontSize: 25\n          },\n          type: \"reload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        bordered: true,\n        rowKey: record => record.MaHeThongRap,\n        className: \"components-table-demo-nested\",\n        columns: columns,\n        expandedRowRender: expandedRowRender // expandedRowRender={(record) =>\n        //     <Table rowKey={(record) => record.MaCumRap}  columns={columnsExpended} dataSource={record.mangCumRap} pagination={false} />\n        // }\n        ,\n        loading: theaterSystemArray.length === 0,\n        dataSource: theaterSystemArray\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Basic Modal\",\n        visible: this.state.visible,\n        onOk: this.handleOk,\n        onCancel: this.handleCancel,\n        footer: null,\n        children: /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"M\\xE3 H\\u1EC7 Th\\u1ED1ng R\\u1EA1p\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"T\\xEAn H\\u1EC7 Th\\u1ED1ng R\\u1EA1p\",\n            children: getFieldDecorator('TenHeThongRap', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập tên hệ thống rạp !'\n              }]\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Nh\\u1EADp t\\xEAn h\\u1EC7 th\\u1ED1ng r\\u1EA1p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Logo\",\n            children: getFieldDecorator('Logo', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập URL Logo !'\n              }]\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Nh\\u1EADp URL logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"B\\xED Danh\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"mr-4\",\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    theaterSystemArray: state.TheaterSystemManageReducer.theaterSystemArray,\n    theaterArray: state.TheaterSystemManageReducer.theaterArray\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTheaterSystemList: () => {\n      dispatch(getTheaterSystemListAction());\n    },\n    getTheaterList: maHeThongRap => {\n      dispatch(getTheaterListAction(maHeThongRap));\n    }\n  };\n};\n\nexport default compose(Form.create(), connect(mapStateToProps, mapDispatchToProps))(TheaterAdmin);","map":{"version":3,"sources":["C:/Users/Acer/Desktop/Frontend/React54/src/components/layoutAdmin/TheaterManage/TheaterAdmin.jsx"],"names":["React","Component","connect","getTheaterSystemListAction","getTheaterListAction","Button","Table","Icon","Modal","Form","Input","Menu","Dropdown","isEqual","compose","TheaterAdmin","constructor","props","showModal","setState","visible","handleTheaterSystem","handleOk","e","console","log","handleCancel","handleEditHTR","record","state","maCumRap","componentDidMount","getTheaterSystemList","getDerivedStateFromProps","nextProps","prevState","theaterArray","render","getFieldDecorator","form","formItemLayout","labelCol","span","wrapperCol","menu","columns","title","width","dataIndex","key","sorter","a","b","MaHeThongRap","length","sortDirections","align","Logo","userAction","history","push","menuCumRap","expandedRowRender","columnsExpended","rowIndex","onDoubleClick","event","MaCumRap","DanhSachCumRap","theaterSystemArray","fontSize","handleSubmit","rules","required","message","mapStateToProps","TheaterSystemManageReducer","mapDispatchToProps","dispatch","getTheaterList","maHeThongRap","create"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,0BAAT,EAAqCC,oBAArC,QAAiE,kDAAjE;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,KAA9B,EAAqCC,IAArC,EAA2CC,KAA3C,EAAkDC,IAAlD,EAAwDC,QAAxD,QAAwE,MAAxE;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;;AAEA,MAAMC,YAAN,SAA2Bd,SAA3B,CAAqC;AACjCe,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAuBnBC,SAvBmB,GAuBP,MAAM;AACd,WAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH,KAzBkB;;AAAA,SA+BnBC,mBA/BmB,GA+BG,MAAM;AACxB,WAAKH,SAAL;AACH,KAjCkB;;AAAA,SAmCnBI,QAnCmB,GAmCPC,CAAD,IAAO;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAKJ,QAAL,CAAc;AACVC,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KAxCkB;;AAAA,SA0CnBM,YA1CmB,GA0CHH,CAAD,IAAO;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAKJ,QAAL,CAAc;AACVC,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KA/CkB;;AAAA,SAiDnBO,aAjDmB,GAiDFC,MAAD,IAAY;AACxBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACH,KAnDkB;;AAEf,SAAKC,KAAL,GAAa;AACTT,MAAAA,OAAO,EAAE,KADA;AAETU,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKd,KAAL,CAAWe,oBAAX;AACH;;AAED,SAAOC,wBAAP,CAAgCC,SAAhC,EAA2CC,SAA3C,EAAsD;AAClDX,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBS,SAAzB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBU,SAAzB;;AACA,QAAI,CAACtB,OAAO,CAACqB,SAAS,CAACE,YAAX,EAAyBD,SAAzB,CAAZ,EAAiD;AAC7C,aAAO,EACH,GAAGA,SADA;AACWC,QAAAA,YAAY,EAAEF,SAAS,CAACE;AADnC,OAAP;AAGH;;AACD,WAAO,IAAP;AACH;;AAgCDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA;AAAF,QAAwB,KAAKrB,KAAL,CAAWsB,IAAzC;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OADS;AAEnBC,MAAAA,UAAU,EAAE;AAAED,QAAAA,IAAI,EAAE;AAAR;AAFO,KAAvB;;AAKA,UAAME,IAAI,gBACN,QAAC,IAAD;AAAA,6BACI,QAAC,IAAD,CAAM,IAAN;AAAA,+BACI;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,SAAe,GAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;;AAWA,UAAMC,OAAO,GAAG,CACZ;AACIC,MAAAA,KAAK,EAAE,iBADX;AAEIC,MAAAA,KAAK,EAAE,GAFX;AAGIC,MAAAA,SAAS,EAAE,cAHf;AAIIC,MAAAA,GAAG,EAAE,cAJT;AAKIC,MAAAA,MAAM,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,YAAF,CAAeC,MAAf,GAAwBF,CAAC,CAACC,YAAF,CAAeC,MAL7D;AAMIC,MAAAA,cAAc,EAAE,CAAC,SAAD,EAAY,QAAZ,CANpB;AAOIC,MAAAA,KAAK,EAAE;AAPX,KADY,EAUZ;AACIV,MAAAA,KAAK,EAAE,MADX;AAEIE,MAAAA,SAAS,EAAE,MAFf;AAGIC,MAAAA,GAAG,EAAE,MAHT;AAIIF,MAAAA,KAAK,EAAE,GAJX;AAKIS,MAAAA,KAAK,EAAE,QALX;AAMInB,MAAAA,MAAM,EAAGoB,IAAD,iBAAU;AAAK,QAAA,GAAG,EAAEA,IAAV;AAAgB,QAAA,SAAS,EAAC,WAA1B;AAAsC,QAAA,KAAK,EAAE,EAA7C;AAAiD,QAAA,MAAM,EAAE;AAAzD;AAAA;AAAA;AAAA;AAAA;AANtB,KAVY,EAkBZ;AACIX,MAAAA,KAAK,EAAE,kBADX;AAEIE,MAAAA,SAAS,EAAE,eAFf;AAGIC,MAAAA,GAAG,EAAE,eAHT;AAIIF,MAAAA,KAAK,EAAE,GAJX;AAKIS,MAAAA,KAAK,EAAE;AALX,KAlBY,EAyBZ;AACIV,MAAAA,KAAK,EAAE,SADX;AAEIE,MAAAA,SAAS,EAAE,QAFf;AAGIC,MAAAA,GAAG,EAAE,QAHT;AAIIF,MAAAA,KAAK,EAAE,GAJX;AAKIS,MAAAA,KAAK,EAAE;AALX,KAzBY,EAgCZ;AACIV,MAAAA,KAAK,EAAE,QADX;AAEIG,MAAAA,GAAG,EAAE,WAFT;AAGIF,MAAAA,KAAK,EAAE,GAHX;AAIIS,MAAAA,KAAK,EAAE,QAJX;AAKInB,MAAAA,MAAM,EAAGT,MAAD,iBACJ;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA,gCACI,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,qBAAlB;AAAwC,UAAA,IAAI,EAAC,SAA7C;AAAuD,UAAA,IAAI,EAAC,MAA5D;AAAmE,UAAA,IAAI,EAAE,OAAzE;AAAkF,UAAA,SAAS,EAAC,MAA5F;AAAmG,UAAA,OAAO,EAAE,MAAM,KAAKD,aAAL,CAAmBC,MAAnB,CAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,0BAAlB;AAA6C,UAAA,IAAI,EAAC,QAAlD;AAA2D,UAAA,IAAI,EAAC,QAAhE;AAAyE,UAAA,IAAI,EAAE,OAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAII,QAAC,QAAD;AAAU,UAAA,OAAO,EAAEgB,IAAnB;AAAA,iCACI;AAAA,mCAAI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AANR,KAhCY,CAAhB,CAlBK,CAqEL;;AACA,UAAMc,UAAU,GAAG,CAAC;AAAET,MAAAA,GAAF;AAAOrB,MAAAA;AAAP,KAAD,KAAqB;AACpC;AACA;AACA;AACA,UAAIqB,GAAG,IAAI,CAAX,EAAc;AACV,aAAKhC,KAAL,CAAW0C,OAAX,CAAmBC,IAAnB,CAAwB,sBAAsB,KAAK/B,KAAL,CAAWC,QAAzD;AACH;AACJ,KAPD,CAtEK,CA+EL;;;AACA,UAAM+B,UAAU,gBACZ,QAAE,IAAF;AAAO,MAAA,OAAO,EAAEH,UAAhB;AAAA,8BACI,QAAC,IAAD,CAAM,IAAN;AAAA,+BACI;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,SAAe,GAAf;AAAA;AAAA;AAAA;AAAA,cADJ,eAOI,QAAC,IAAD,CAAM,IAAN;AAAA,+BACI;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,SAAe,GAAf;AAAA;AAAA;AAAA;AAAA,cAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;;AAiBA,UAAMI,iBAAiB,GAAIlC,MAAD,IAAY;AAClC,YAAMmC,eAAe,GAAG,CACpB;AAAEjB,QAAAA,KAAK,EAAE,YAAT;AAAuBE,QAAAA,SAAS,EAAE,UAAlC;AAA8CC,QAAAA,GAAG,EAAE;AAAnD,OADoB,EAEpB;AAAEH,QAAAA,KAAK,EAAE,aAAT;AAAwBE,QAAAA,SAAS,EAAE,WAAnC;AAAgDC,QAAAA,GAAG,EAAE;AAArD,OAFoB,EAGpB;AAAEH,QAAAA,KAAK,EAAE,SAAT;AAAoBE,QAAAA,SAAS,EAAE,UAA/B;AAA2CC,QAAAA,GAAG,EAAE;AAAhD,OAHoB,EAIpB;AACIH,QAAAA,KAAK,EAAE,QADX;AAEIG,QAAAA,GAAG,EAAE,WAFT;AAGIF,QAAAA,KAAK,EAAE,GAHX;AAIIS,QAAAA,KAAK,EAAE,QAJX,CAKI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAfJ,OAJoB,CAAxB;AAsBA,0BAAO,QAAC,KAAD;AACH,QAAA,MAAM,EAAE5B,MAAM,IAAIA,MAAM,CAACyB,YADtB;AAEH,QAAA,KAAK,EAAE,CAACzB,MAAD,EAASoC,QAAT,KAAsB;AACzB,iBAAO;AACHC,YAAAA,aAAa,EAAEC,KAAK,IAAI;AAAE,mBAAKjD,KAAL,CAAW0C,OAAX,CAAmBC,IAAnB,CAAwB,sBAAsBhC,MAAM,CAACuC,QAArD;AAA+D,aADtF,CACwF;;AADxF,WAAP;AAGH,SANE;AAOH,QAAA,SAAS,EAAC,gBAPP;AAOwB,QAAA,MAAM,EAAGvC,MAAD,IAAYA,MAAM,CAACuC,QAPnD;AAO6D,QAAA,OAAO,EAAEJ,eAPtE;AAOuF,QAAA,UAAU,EAAEnC,MAAM,CAACwC,cAP1G;AAO0H,QAAA,UAAU,EAAE;AAPtI;AAAA;AAAA;AAAA;AAAA,cAAP;AAQH,KA/BD;;AAiCA,UAAMC,kBAAkB,GAAG,KAAKpD,KAAL,CAAWoD,kBAAtC;AACA7C,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC4C,kBAAlC;AAEA,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,8CAAf;AAAA,gCACI,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,qBAAlB;AAAwC,UAAA,IAAI,EAAC,MAA7C;AAAoD,UAAA,IAAI,EAAC,SAAzD;AAAmE,UAAA,OAAO,EAAE,MAAM,KAAKhD,mBAAL,EAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEiD,YAAAA,QAAQ,EAAE;AAAZ,WAAb;AAA+B,UAAA,IAAI,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAKI,QAAC,KAAD;AACI,QAAA,QAAQ,MADZ;AAEI,QAAA,MAAM,EAAE1C,MAAM,IAAIA,MAAM,CAACyB,YAF7B;AAGI,QAAA,SAAS,EAAC,8BAHd;AAII,QAAA,OAAO,EAAER,OAJb;AAKI,QAAA,iBAAiB,EAAEiB,iBALvB,CAMI;AACA;AACA;AARJ;AASI,QAAA,OAAO,EAAEO,kBAAkB,CAACf,MAAnB,KAA8B,CAT3C;AAUI,QAAA,UAAU,EAAEe;AAVhB;AAAA;AAAA;AAAA;AAAA,cALJ,eAkBI,QAAC,KAAD;AACI,QAAA,KAAK,EAAC,aADV;AAEI,QAAA,OAAO,EAAE,KAAKxC,KAAL,CAAWT,OAFxB;AAGI,QAAA,IAAI,EAAE,KAAKE,QAHf;AAII,QAAA,QAAQ,EAAE,KAAKI,YAJnB;AAKI,QAAA,MAAM,EAAE,IALZ;AAAA,+BAOI,QAAC,IAAD,OAAUc,cAAV;AAA0B,UAAA,QAAQ,EAAE,KAAK+B,YAAzC;AAAA,kCACI,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,KAAK,EAAC,mCAAjB;AAAA,mCACI,QAAC,KAAD;AAAO,cAAA,QAAQ;AAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,IAAD,CAAM,IAAN,OAAe/B,cAAf;AAA+B,YAAA,KAAK,EAAC,oCAArC;AAAA,sBACKF,iBAAiB,CAAC,eAAD,EAAkB;AAChCkC,cAAAA,KAAK,EAAE,CACH;AACIC,gBAAAA,QAAQ,EAAE,IADd;AAEIC,gBAAAA,OAAO,EAAE;AAFb,eADG;AADyB,aAAlB,CAAjB,eAOE,QAAC,KAAD;AAAO,cAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,oBAPF;AADL;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAcI,QAAC,IAAD,CAAM,IAAN,OAAelC,cAAf;AAA+B,YAAA,KAAK,EAAC,MAArC;AAAA,sBACKF,iBAAiB,CAAC,MAAD,EAAS;AACvBkC,cAAAA,KAAK,EAAE,CACH;AACIC,gBAAAA,QAAQ,EAAE,IADd;AAEIC,gBAAAA,OAAO,EAAE;AAFb,eADG;AADgB,aAAT,CAAjB,eAOE,QAAC,KAAD;AAAO,cAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,oBAPF;AADL;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAwBI,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,KAAK,EAAC,YAAjB;AAAA,mCACI,QAAC,KAAD;AAAO,cAAA,QAAQ;AAAf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAxBJ,eA2BI;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,MAAlB;AAAyB,cAAA,IAAI,EAAC,SAA9B;AAAwC,cAAA,QAAQ,EAAC,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,MAAD;AAAQ,cAAA,IAAI,EAAC,SAAb;AAAuB,cAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,cAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAiEH;;AA5PgC;;AA+PrC,MAAMC,eAAe,GAAG9C,KAAK,IAAI;AAC7B,SAAO;AACHwC,IAAAA,kBAAkB,EAAExC,KAAK,CAAC+C,0BAAN,CAAiCP,kBADlD;AAEHjC,IAAAA,YAAY,EAAEP,KAAK,CAAC+C,0BAAN,CAAiCxC;AAF5C,GAAP;AAIH,CALD;;AAOA,MAAMyC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACH9C,IAAAA,oBAAoB,EAAE,MAAM;AACxB8C,MAAAA,QAAQ,CAAC3E,0BAA0B,EAA3B,CAAR;AACH,KAHE;AAIH4E,IAAAA,cAAc,EAAGC,YAAD,IAAkB;AAC9BF,MAAAA,QAAQ,CAAC1E,oBAAoB,CAAC4E,YAAD,CAArB,CAAR;AACH;AANE,GAAP;AAQH,CATD;;AAWA,eAAelE,OAAO,CAClBL,IAAI,CAACwE,MAAL,EADkB,EAElB/E,OAAO,CAACyE,eAAD,EAAkBE,kBAAlB,CAFW,CAAP,CAGb9D,YAHa,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { getTheaterSystemListAction, getTheaterListAction } from '../../../redux/actions/TheaterSystemManageAction';\nimport { Button, Table, Icon, Modal, Form, Input, Menu, Dropdown } from 'antd'\nimport { isEqual } from 'lodash'\nimport { compose } from 'redux';\n\nclass TheaterAdmin extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: false,\n            maCumRap: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.getTheaterSystemList();\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        console.log(\"nextProps\", nextProps);\n        console.log(\"prevState\", prevState);\n        if (!isEqual(nextProps.theaterArray, prevState)) {\n            return {\n                ...prevState, theaterArray: nextProps.theaterArray\n            }\n        }\n        return null;\n    }\n\n    showModal = () => {\n        this.setState({ visible: true });\n    };\n    // handleGetTheaterSource = (MaHeThongRap) => {\n    //     this.props.getTheaterList(MaHeThongRap);\n    //     return this.props.theaterArray;\n    // }\n\n    handleTheaterSystem = () => {\n        this.showModal();\n    }\n\n    handleOk = (e) => {\n        console.log(e);\n        this.setState({\n            visible: false,\n        });\n    }\n\n    handleCancel = (e) => {\n        console.log(e);\n        this.setState({\n            visible: false,\n        });\n    }\n\n    handleEditHTR = (record) => {\n        console.log(record);\n    }\n\n    render() {\n        const { getFieldDecorator } = this.props.form;\n        const formItemLayout = {\n            labelCol: { span: 7 },\n            wrapperCol: { span: 16 },\n        };\n\n        const menu = (\n            <Menu>\n                <Menu.Item key=\"1\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"calendar\" />\n                        <span >Thêm Cụm Rạp</span>\n                    </span>\n                </Menu.Item>\n            </Menu>\n        );\n\n        const columns = [\n            {\n                title: 'Mã Hệ Thống Rạp',\n                width: 150,\n                dataIndex: 'MaHeThongRap',\n                key: 'MaHeThongRap',\n                sorter: (a, b) => a.MaHeThongRap.length - b.MaHeThongRap.length,\n                sortDirections: ['descend', 'ascend'],\n                align: 'center'\n            },\n            {\n                title: 'Logo',\n                dataIndex: 'Logo',\n                key: 'Logo',\n                width: 150,\n                align: 'center',\n                render: (Logo) => <img src={Logo} className=\"img-fluid\" width={50} height={50} />\n            },\n            {\n                title: 'Tên Hệ Thống Rạp',\n                dataIndex: 'TenHeThongRap',\n                key: 'TenHeThongRap',\n                width: 150,\n                align: 'center'\n            },\n            {\n                title: 'Bí Danh',\n                dataIndex: 'BiDanh',\n                key: 'BiDanh',\n                width: 150,\n                align: 'center'\n            },\n            {\n                title: 'Action',\n                key: 'operation',\n                width: 100,\n                align: 'center',\n                render: (record) => (\n                    <div className=\"d-flex justify-content-center\">\n                        <Button className=\"button__title__icon\" type=\"primary\" icon=\"edit\" size={\"small\"} className=\"mr-2\" onClick={() => this.handleEditHTR(record)}> Edit </Button>\n                        <Button className=\"button__title__icon mr-2\" type=\"danger\" icon=\"delete\" size={\"small\"}> Xóa </Button>\n                        {/* </Popconfirm> */}\n                        <Dropdown overlay={menu}>\n                            <a ><Icon type=\"down\" /></a>\n                            {/* <Button className=\"button__title__icon\" icon=\"down\" size={\"small\"}></Button> */}\n                        </Dropdown>\n                    </div>\n                ),\n            },\n        ];\n\n        // Action dropdown\n        const userAction = ({ key, record }) => {\n            // if (key == 1) {\n            //     this.props.history.push('/profileuser/' + this.state.taiKhoanDangNhap.TaiKhoan)\n            // }\n            if (key == 2) {\n                this.props.history.push('/admin/rapmanage/' + this.state.maCumRap);\n            }\n        }\n\n        // Dropdown menu rạp\n        const menuCumRap = (\n            < Menu onClick={userAction}>\n                <Menu.Item key=\"1\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"calendar\" />\n                        <span >Thêm rạp</span>\n                    </span>\n                </Menu.Item>\n                <Menu.Item key=\"2\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"calendar\" />\n                        <span >Xem danh sách rạp</span>\n                    </span>\n                </Menu.Item>\n            </Menu >\n        )\n\n        const expandedRowRender = (record) => {\n            const columnsExpended = [\n                { title: 'Mã Cụm Rạp', dataIndex: 'MaCumRap', key: 'MaCumRap' },\n                { title: 'Tên Cụm Rạp', dataIndex: 'TenCumRap', key: 'TenCumRap' },\n                { title: 'Địa Chỉ', dataIndex: 'ThongTin', key: 'ThongTin' },\n                {\n                    title: 'Action',\n                    key: 'operation',\n                    width: 100,\n                    align: 'center',\n                    // render: (record) => (\n                    //     <div className=\"d-flex justify-content-center\">\n                    //           <Dropdown overlay={menuCumRap} trigger={['click']} onClick={() => {\n                    //             this.setState({\n                    //                 maCumRap: record.MaCumRap\n                    //             });\n                    //         }}>\n                    //                 <a ><Icon type=\"down\" /></a>\n                    //         </Dropdown>\n                    //     </div>\n                    // ),\n                },\n            ];\n            return <Table\n                rowKey={record => record.MaHeThongRap}\n                onRow={(record, rowIndex) => {\n                    return {                      \n                        onDoubleClick: event => { this.props.history.push('/admin/rapmanage/' + record.MaCumRap)}, // double click row                      \n                    };\n                }}\n                className=\"expend__cumRap\" rowKey={(record) => record.MaCumRap} columns={columnsExpended} dataSource={record.DanhSachCumRap} pagination={false} />;\n        };\n\n        const theaterSystemArray = this.props.theaterSystemArray;\n        console.log(\"theaterSystemArray\", theaterSystemArray);\n\n        return (\n            <div>\n                <div className=\"btn__Add mb-4 d-flex justify-content-between\">\n                    <Button className=\"button__title__icon\" icon=\"plus\" type=\"primary\" onClick={() => this.handleTheaterSystem()}>Thêm Hệ Thống Rạp</Button>\n                    <Icon style={{ fontSize: 25 }} type=\"reload\" />\n                </div>\n                <Table\n                    bordered\n                    rowKey={record => record.MaHeThongRap}\n                    className=\"components-table-demo-nested\"\n                    columns={columns}\n                    expandedRowRender={expandedRowRender}\n                    // expandedRowRender={(record) =>\n                    //     <Table rowKey={(record) => record.MaCumRap}  columns={columnsExpended} dataSource={record.mangCumRap} pagination={false} />\n                    // }\n                    loading={theaterSystemArray.length === 0}\n                    dataSource={theaterSystemArray}\n                />\n\n                <Modal\n                    title=\"Basic Modal\"\n                    visible={this.state.visible}\n                    onOk={this.handleOk}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                >\n                    <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n                        <Form.Item label=\"Mã Hệ Thống Rạp\">\n                            <Input disabled />\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Tên Hệ Thống Rạp\">\n                            {getFieldDecorator('TenHeThongRap', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập tên hệ thống rạp !',\n                                    },\n                                ],\n                            })(<Input placeholder=\"Nhập tên hệ thống rạp\" />)}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Logo\">\n                            {getFieldDecorator('Logo', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập URL Logo !',\n                                    },\n                                ],\n                            })(<Input placeholder=\"Nhập URL logo\" />)}\n                        </Form.Item>\n                        <Form.Item label=\"Bí Danh\">\n                            <Input disabled />\n                        </Form.Item>\n                        <div className=\"text-center\">\n                            <Button className=\"mr-4\" type=\"primary\" htmlType=\"submit\">\n                                Submit\n                            </Button>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                Hủy\n                            </Button>\n                        </div>\n                    </Form>\n                </Modal>\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        theaterSystemArray: state.TheaterSystemManageReducer.theaterSystemArray,\n        theaterArray: state.TheaterSystemManageReducer.theaterArray\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getTheaterSystemList: () => {\n            dispatch(getTheaterSystemListAction())\n        },\n        getTheaterList: (maHeThongRap) => {\n            dispatch(getTheaterListAction(maHeThongRap))\n        }\n    }\n}\n\nexport default compose(\n    Form.create(),\n    connect(mapStateToProps, mapDispatchToProps)\n)(TheaterAdmin)"]},"metadata":{},"sourceType":"module"}