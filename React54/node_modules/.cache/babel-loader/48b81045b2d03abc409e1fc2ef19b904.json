{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\React54\\\\src\\\\components\\\\layout\\\\Header.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect, NavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Form, Avatar, Dropdown, Menu, Button, Icon } from 'antd';\nimport { compose } from 'redux';\nimport { loginAction, registerAction } from '../../redux/actions/MemberManageAction';\nimport Login from '../../pages/Login';\nimport SignUp from '../../pages/SignUp';\nimport { settings } from '../../config/settings';\nimport { connection } from '../../index';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentCleanup = () => {\n      // this will hold the cleanup code\n      // whatever you want to do when the component is unmounted or page refreshes\n      this._isMounted = false;\n      console.log('unmounting'); // clearInterval(this.myInterval)\n\n      if (localStorage.getItem(settings.userLogin)) {\n        let taiKhoan = JSON.parse(localStorage.getItem(settings.userLogin)).TaiKhoan;\n\n        if (localStorage.getItem('MaLichChieu')) {\n          connection.invoke(\"SendRequestData\", taiKhoan, localStorage.getItem('MaLichChieu'));\n        }\n      }\n    };\n\n    this.handleModalLoginOpen = () => {\n      this.setState(prevState => {\n        return {\n          modalLoginOpen: !prevState.modalLoginOpen\n        };\n      });\n      console.log(this.state.modalOpen);\n    };\n\n    this.handleModalSignUpOpen = () => {\n      this.setState(prevState => {\n        return {\n          modalSignUpOpen: !prevState.modalSignUpOpen\n        };\n      });\n      console.log(this.state.modalOpen);\n    };\n\n    this.state = {\n      taiKhoanDangNhap: {},\n      modalSignUpOpen: false,\n      modalLoginOpen: false\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n    window.addEventListener(\"scroll\", this.resizeHeaderOnScroll); // window.removeEventListener('beforeunload', this.componentCleanup);\n  }\n\n  // componentWillUnmount() {\n  //     this.componentCleanup();\n  //     window.removeEventListener('beforeunload', this.componentCleanup);\n  // }\n  getUser() {\n    if (localStorage.getItem('userLogin')) {\n      // console.log(\"abc\");\n      this.setState({\n        taiKhoanDangNhap: JSON.parse(localStorage.getItem(settings.userLogin))\n      });\n    }\n  }\n\n  resizeHeaderOnScroll() {\n    // console.log(\"smaller\");\n    const distanceY = window.pageYOffset || document.documentElement.scrollTop,\n          shrinkOn = 60,\n          headerEl = document.getElementById(\"js-header\");\n\n    if (headerEl) {\n      if (distanceY > shrinkOn) {\n        headerEl.classList.add(\"smaller\");\n      } else {\n        headerEl.classList.remove(\"smaller\");\n      }\n    }\n  }\n\n  render() {\n    const userAction = ({\n      key\n    }) => {\n      if (key == 2) {\n        // event.preventDefault()\n        // Remove the token from localStorage\n        localStorage.removeItem(\"userLogin\");\n        localStorage.removeItem(\"token\");\n        this.props.history.push('/');\n        window.location.reload();\n      }\n\n      if (key == 1) {\n        this.props.history.push('/profileuser/' + this.state.taiKhoanDangNhap.TaiKhoan);\n      }\n\n      if (key == 3) {\n        this.props.history.push('/admin/movieadmin');\n      }\n    };\n\n    const menu = /*#__PURE__*/_jsxDEV(Menu, {\n      onClick: userAction,\n      children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"View Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), this.state.taiKhoanDangNhap.MaLoaiThanhVien === 1 ? /*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 29\n        }, this)\n      }, \"3\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }, this) : '', /*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"header__client\",\n          id: \"js-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container header__detail\",\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              style: {\n                color: '#ec4532',\n                backgroundColor: '#fde3cf',\n                marginRight: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                type: \"user\",\n                style: {\n                  fontSize: '18px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 116\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), this.state.taiKhoanDangNhap.HoTen ? /*#__PURE__*/_jsxDEV(Dropdown, {\n              overlay: menu,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"dashed\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"span__title__icon\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [this.state.taiKhoanDangNhap.HoTen, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Icon, {\n                    type: \"down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 69\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              type: \"dashed\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"container header__navbar navbar navbar-expand-lg py-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"navbar-brand py-0\",\n              href: \"#\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: process.env.PUBLIC_URL + '/img/logo1.png',\n                alt: \"logo\",\n                width: 265\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"navbar-toggler\",\n              type: \"button\",\n              \"data-toggle\": \"collapse\",\n              \"data-target\": \"#navbarCollapse\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"navbar-toggler-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"collapse navbar-collapse\",\n              id: \"navbarCollapse\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"navbar-nav ml-auto border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item active\",\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"nav-link px-4\",\n                      href: \"#\",\n                      children: \"HOME\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"nav-link px-4\",\n                    children: \"SHOWING MOVIES\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"nav-link px-4\",\n                    href: \"#\",\n                    children: \"COMING MOVIE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"nav-link px-4\",\n                    href: \"#\",\n                    onClick: this.handleModalLoginOpen,\n                    children: \"SIGN IN\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"nav-link px-4 text-uppercase\",\n                    href: \"#\",\n                    onClick: this.handleModalSignUpOpen,\n                    children: \"Sign up\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Login, {\n          modalLoginOpen: this.state.modalLoginOpen,\n          handleModalLoginOpen: this.handleModalLoginOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SignUp, {\n          modalSignUpOpen: this.state.modalSignUpOpen,\n          handleModalSignUpOpen: this.handleModalSignUpOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userLogin: state.MemberManageReducer.userLogin\n  };\n}; // const mapDispatchToProps = (dispatch) => {\n//     return {\n//         loginAction: (userLogin) => {\n//             dispatch(loginAction(userLogin))\n//         },\n//         registerAction: (userRegister) => {\n//             dispatch(registerAction(userRegister))\n//         }\n//     }\n// }\n\n\nexport default withRouter(compose(Form.create(), connect(mapStateToProps, null))(Header));","map":{"version":3,"sources":["C:/Users/Acer/Desktop/React54/src/components/layout/Header.jsx"],"names":["React","Component","Redirect","NavLink","withRouter","connect","Form","Avatar","Dropdown","Menu","Button","Icon","compose","loginAction","registerAction","Login","SignUp","settings","connection","Header","constructor","props","componentCleanup","_isMounted","console","log","localStorage","getItem","userLogin","taiKhoan","JSON","parse","TaiKhoan","invoke","handleModalLoginOpen","setState","prevState","modalLoginOpen","state","modalOpen","handleModalSignUpOpen","modalSignUpOpen","taiKhoanDangNhap","componentDidMount","getUser","window","addEventListener","resizeHeaderOnScroll","distanceY","pageYOffset","document","documentElement","scrollTop","shrinkOn","headerEl","getElementById","classList","add","remove","render","userAction","key","removeItem","history","push","location","reload","menu","MaLoaiThanhVien","color","backgroundColor","marginRight","fontSize","HoTen","process","env","PUBLIC_URL","mapStateToProps","MemberManageReducer","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect, NavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux'\nimport { Form, Avatar, Dropdown, Menu, Button, Icon } from 'antd'\nimport { compose } from 'redux';\nimport { loginAction, registerAction } from '../../redux/actions/MemberManageAction'\nimport Login from '../../pages/Login';\nimport SignUp from '../../pages/SignUp';\nimport { settings } from '../../config/settings';\nimport { connection } from '../../index'\n\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            taiKhoanDangNhap: {},\n            modalSignUpOpen: false,\n            modalLoginOpen: false\n        }\n    }\n\n    componentDidMount() {\n        this.getUser();\n        window.addEventListener(\"scroll\", this.resizeHeaderOnScroll);\n        // window.removeEventListener('beforeunload', this.componentCleanup);\n    }\n\n    componentCleanup = () => { // this will hold the cleanup code\n        // whatever you want to do when the component is unmounted or page refreshes\n        this._isMounted = false;\n        console.log('unmounting');\n        // clearInterval(this.myInterval)\n        if (localStorage.getItem(settings.userLogin)) {\n            let taiKhoan = JSON.parse(localStorage.getItem(settings.userLogin)).TaiKhoan;\n            if (localStorage.getItem('MaLichChieu')){\n                connection.invoke(\"SendRequestData\", taiKhoan, localStorage.getItem('MaLichChieu'));\n            }\n        }\n    }\n\n\n    // componentWillUnmount() {\n    //     this.componentCleanup();\n    //     window.removeEventListener('beforeunload', this.componentCleanup);\n    // }\n\n\n    getUser() {\n        if (localStorage.getItem('userLogin')) {\n            // console.log(\"abc\");\n            this.setState({\n                taiKhoanDangNhap: JSON.parse(localStorage.getItem(settings.userLogin))\n            })\n        }\n    }\n\n    resizeHeaderOnScroll() {\n        // console.log(\"smaller\");\n\n        const distanceY = window.pageYOffset || document.documentElement.scrollTop,\n            shrinkOn = 60,\n            headerEl = document.getElementById(\"js-header\");\n        if (headerEl) {\n            if (distanceY > shrinkOn) {\n                headerEl.classList.add(\"smaller\");\n            } else {\n                headerEl.classList.remove(\"smaller\");\n            }\n        }\n\n    }\n\n    handleModalLoginOpen = () => {\n        this.setState((prevState) => {\n            return {\n                modalLoginOpen: !prevState.modalLoginOpen\n            }\n        })\n        console.log(this.state.modalOpen);\n    }\n\n    handleModalSignUpOpen = () => {\n        this.setState((prevState) => {\n            return {\n                modalSignUpOpen: !prevState.modalSignUpOpen\n            }\n        })\n        console.log(this.state.modalOpen);\n    }\n\n    render() {\n        const userAction = ({ key }) => {\n            if (key == 2) {\n                // event.preventDefault()\n                // Remove the token from localStorage\n                localStorage.removeItem(\"userLogin\")\n                localStorage.removeItem(\"token\")\n                this.props.history.push('/');\n                window.location.reload();\n            }\n            if (key == 1) {\n                this.props.history.push('/profileuser/' + this.state.taiKhoanDangNhap.TaiKhoan)\n            }\n            if (key == 3) {\n                this.props.history.push('/admin/movieadmin');\n            }\n        }\n        const menu = (\n            <Menu onClick={userAction}>\n                <Menu.Item key=\"1\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"user\" />\n                        <span>View Profile</span>\n                    </span>\n                </Menu.Item>\n                {\n                    this.state.taiKhoanDangNhap.MaLoaiThanhVien === 1 ?\n                        <Menu.Item key=\"3\">\n                            <span className=\"span__title__icon\">\n                                <Icon type=\"user\" />\n                                <span>Dashboard</span>\n                            </span>\n                        </Menu.Item> : ''\n                }\n                <Menu.Item key=\"2\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"logout\" />\n                        <span>Log Out</span>\n                    </span>\n                </Menu.Item>\n            </Menu>\n        );\n\n        return (\n            <div>\n                <div>\n                    {/*HEADER*/}\n                    <header className=\"header__client\" id=\"js-header\">\n                        <div className=\"container header__detail\">\n                            <Avatar style={{ color: '#ec4532', backgroundColor: '#fde3cf', marginRight: '20px' }} ><Icon type=\"user\" style={{ fontSize: '18px' }} /></Avatar>\n                            {\n                                this.state.taiKhoanDangNhap.HoTen ? <Dropdown overlay={menu}>\n                                    <Button type=\"dashed\">\n                                        <span className=\"span__title__icon\">\n                                            <span>{this.state.taiKhoanDangNhap.HoTen} </span>\n                                            <Icon type=\"down\" />\n                                        </span>\n                                    </Button>\n                                </Dropdown> : <Button type=\"dashed\">Login</Button>\n                            }\n                        </div>\n                        <nav className=\"container header__navbar navbar navbar-expand-lg py-0\">\n                            <a className=\"navbar-brand py-0\" href=\"#\">\n                                <img src={process.env.PUBLIC_URL + '/img/logo1.png'} alt=\"logo\" width={265} />\n                            </a>\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\">\n                                <span className=\"navbar-toggler-icon\" />\n                            </button>\n                            <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n                                <ul className=\"navbar-nav ml-auto border-bottom\">\n                                    <li className=\"nav-item active\">\n                                        <NavLink to='/'><span className=\"nav-link px-4\" href=\"#\">HOME</span></NavLink>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <span className=\"nav-link px-4\">SHOWING MOVIES</span>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <a className=\"nav-link px-4\" href=\"#\">COMING MOVIE</a>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        <a className=\"nav-link px-4\" href=\"#\" onClick={this.handleModalLoginOpen}>SIGN IN</a>\n                                    </li>\n                                    <li className=\"nav-item\">\n                                        {/* <NavLink to={'/login'} className=\"nav-link px-4 text-uppercase\">XEM THÊM</NavLink> */}\n                                        <a className=\"nav-link px-4 text-uppercase\" href=\"#\" onClick={this.handleModalSignUpOpen}>Sign up</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </nav>\n\n                    </header>\n                    {/*END HEADER*/}\n                    <Login modalLoginOpen={this.state.modalLoginOpen}\n                        handleModalLoginOpen={this.handleModalLoginOpen} />\n                    <SignUp modalSignUpOpen={this.state.modalSignUpOpen}\n                        handleModalSignUpOpen={this.handleModalSignUpOpen} />\n                </div>\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        userLogin: state.MemberManageReducer.userLogin\n    }\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         loginAction: (userLogin) => {\n//             dispatch(loginAction(userLogin))\n//         },\n//         registerAction: (userRegister) => {\n//             dispatch(registerAction(userRegister))\n//         }\n//     }\n// }\n\nexport default (withRouter)(compose(\n    Form.create(),\n    connect(mapStateToProps, null)\n)(Header))\n\n\n"]},"metadata":{},"sourceType":"module"}