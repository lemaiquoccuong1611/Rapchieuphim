{"ast":null,"code":"import * as types from '../constants/BookingManageConstant';\nimport axios from 'axios';\nimport { settings } from '../../config/settings';\nexport const createLichChieuAction = lichChieu => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + '/QuanLyDatVe/TaoLichChieu',\n      method: 'POST',\n      data: {\n        MaPhim: lichChieu.MaPhim,\n        NgayChieuGioChieu: lichChieu.NgayChieuGioChieu,\n        MaRap: lichChieu.MaRap,\n        GiaVe: lichChieu.GiaVe,\n        GiamGia: lichChieu.GiamGia\n      }\n    }).then(result => {\n      console.log(\"createLichChieuAction\", result);\n      dispatch({\n        type: types.CREATE_LICH_CHIEU,\n        createLCResult: result.data\n      });\n    }).catch(errors => {//Log ra lỗi backend trả về\n    });\n  };\n};\nexport const getLichChieuListAction = () => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + '/QuanLyDatVe/LayDanhSachLichChieu',\n      method: 'GET'\n    }).then(result => {\n      console.log(\"getLichChieuListAction\", result);\n      dispatch({\n        type: types.GET_LIST_LICH_CHIEU,\n        lichChieuArray: result.data\n      });\n    }).catch(errors => {//Log ra lỗi backend trả về\n    });\n  };\n};\nexport const bookingSeatAction = (gheDuocChon, maLichChieu) => {\n  return {\n    type: types.DAT_GHE,\n    gheDuocChon,\n    maLichChieu\n  };\n};\nexport const huyVeAction = veDuocChon => {\n  return {\n    type: types.CHON_VE_HUY,\n    veDuocChon\n  };\n};\nexport const putDataInvokeAction = objectDsGheDangChon => {\n  return {\n    type: types.PUT_DANH_SACH_GHE_DANG_DAT,\n    objectDsGheDangChon\n  };\n}; // CHỈNH SỬA GHẾ ADMIN\n\nexport const updateSeatAction = gheChonUpdate => {\n  return {\n    type: types.CHON_GHE_UPDATE,\n    gheChonUpdate\n  };\n}; // Admin\n\nexport const chonGheAdminAction = gheDuocChonAd => {\n  return {\n    type: types.CHON_GHE_ADMIN,\n    gheDuocChonAd\n  };\n};\nexport const getChiTietPhongVeAction = maLichChieu => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`,\n      method: 'GET'\n    }).then(result => {\n      console.log(\"layChiTietPhongVeAction\", result.data);\n      dispatch({\n        type: types.GET_CHI_TIET_PHONG_VE,\n        danhSachGhe: result.data.DanhSachGhe,\n        thongTinPhim: result.data.ThongTinPhim\n      });\n    }).catch(errors => {\n      console.log(errors.response.data);\n    });\n  };\n};\nexport const bookingTicketAction = objectDatVe => {\n  console.log(objectDatVe);\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyDatVe/DatVe`,\n      method: 'POST',\n      data: objectDatVe,\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem(settings.token)\n      }\n    }).then(result => {\n      dispatch({\n        type: types.DAT_VE,\n        datVeResult: result.data,\n        objectDatVe: objectDatVe\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n};\nexport const cancelTicketAction = objectHuyVe => {\n  console.log(objectHuyVe);\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyDatVe/HuyVe`,\n      method: 'PUT',\n      data: objectHuyVe,\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem(settings.token)\n      }\n    }).then(result => {\n      console.log(result);\n      dispatch({\n        type: types.HUY_VE,\n        objectHuyVe: objectHuyVe,\n        cancelTicket: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Put danh sách ghế đang đặt\n\nexport const putListGheDangDatAction = objectGheDangDat => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/QuanLyDatVe/PutDanhSachVeDangDat`,\n      method: 'POST',\n      data: objectGheDangDat\n    }).then(result => {\n      console.log(\"putListGheDangDatAction\", result.data);\n      dispatch({\n        type: types.PUT_DANH_SACH_GHE_DANG_DAT,\n        resultPutDSGheDangDat: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n}; // Cập nhật loại ghế\n\nexport const capNhatLoaiGheAction = mangGheCapNhat => {\n  return dispatch => {\n    axios({\n      url: settings.domainLocal + `/CumRap/CapNhatLoaiGhe`,\n      method: 'Put',\n      data: mangGheCapNhat\n    }).then(result => {\n      console.log(\"capNhatLoaiGheAction\", result.data);\n      dispatch({\n        type: types.CAP_NHAT_LOAI_GHE,\n        resultCapNhatLoaiGhe: result.data\n      });\n    }).catch(errors => {// console.log(errors.response.data);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Acer/Desktop/Frontend/React54/src/redux/actions/BookingManageAction.jsx"],"names":["types","axios","settings","createLichChieuAction","lichChieu","dispatch","url","domainLocal","method","data","MaPhim","NgayChieuGioChieu","MaRap","GiaVe","GiamGia","then","result","console","log","type","CREATE_LICH_CHIEU","createLCResult","catch","errors","getLichChieuListAction","GET_LIST_LICH_CHIEU","lichChieuArray","bookingSeatAction","gheDuocChon","maLichChieu","DAT_GHE","huyVeAction","veDuocChon","CHON_VE_HUY","putDataInvokeAction","objectDsGheDangChon","PUT_DANH_SACH_GHE_DANG_DAT","updateSeatAction","gheChonUpdate","CHON_GHE_UPDATE","chonGheAdminAction","gheDuocChonAd","CHON_GHE_ADMIN","getChiTietPhongVeAction","GET_CHI_TIET_PHONG_VE","danhSachGhe","DanhSachGhe","thongTinPhim","ThongTinPhim","response","bookingTicketAction","objectDatVe","headers","Authorization","localStorage","getItem","token","DAT_VE","datVeResult","cancelTicketAction","objectHuyVe","HUY_VE","cancelTicket","putListGheDangDatAction","objectGheDangDat","resultPutDSGheDangDat","capNhatLoaiGheAction","mangGheCapNhat","CAP_NHAT_LOAI_GHE","resultCapNhatLoaiGhe"],"mappings":"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","sourcesContent":["import * as types from '../constants/BookingManageConstant';\nimport axios from 'axios';\nimport { settings } from '../../config/settings'\n\nexport const createLichChieuAction = (lichChieu) => {\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + '/QuanLyDatVe/TaoLichChieu',\n            method: 'POST',\n            data: {\n                MaPhim: lichChieu.MaPhim,\n                NgayChieuGioChieu: lichChieu.NgayChieuGioChieu,\n                MaRap: lichChieu.MaRap,\n                GiaVe: lichChieu.GiaVe,\n                GiamGia: lichChieu.GiamGia\n            }\n        }).then(result => {\n            console.log(\"createLichChieuAction\", result);\n            dispatch({\n                type: types.CREATE_LICH_CHIEU,\n                createLCResult: result.data\n            })\n        }).catch((errors) => {\n            //Log ra lỗi backend trả về\n        })\n    }\n}\n\nexport const getLichChieuListAction = () => {\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + '/QuanLyDatVe/LayDanhSachLichChieu',\n            method: 'GET'\n        }).then(result => {\n            console.log(\"getLichChieuListAction\", result);\n            dispatch({\n                type: types.GET_LIST_LICH_CHIEU,\n                lichChieuArray: result.data\n            })\n        }).catch((errors) => {\n            //Log ra lỗi backend trả về\n        })\n    }\n}\n\nexport const bookingSeatAction = (gheDuocChon, maLichChieu) => {\n    return {\n        type: types.DAT_GHE,\n        gheDuocChon,\n        maLichChieu\n    }\n}\n\nexport const huyVeAction = (veDuocChon) => {\n    return {\n        type: types.CHON_VE_HUY,\n        veDuocChon\n    }\n}\n\n\n\nexport const putDataInvokeAction = (objectDsGheDangChon) => {\n    return {\n        type: types.PUT_DANH_SACH_GHE_DANG_DAT,\n        objectDsGheDangChon,\n    }\n}\n\n// CHỈNH SỬA GHẾ ADMIN\nexport const updateSeatAction = (gheChonUpdate) => {\n    return {\n        type: types.CHON_GHE_UPDATE,\n        gheChonUpdate,\n    }\n}\n\n// Admin\nexport const chonGheAdminAction = (gheDuocChonAd) => {\n    return {\n        type: types.CHON_GHE_ADMIN,\n        gheDuocChonAd\n    }\n}\n\n\nexport const getChiTietPhongVeAction = (maLichChieu) => {\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + `/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`,\n            method: 'GET',\n        }).then(result => {\n            console.log(\"layChiTietPhongVeAction\", result.data);\n            dispatch({\n                type: types.GET_CHI_TIET_PHONG_VE,\n                danhSachGhe: result.data.DanhSachGhe,\n                thongTinPhim: result.data.ThongTinPhim\n            })\n        }).catch(errors => {\n            console.log(errors.response.data);\n        })\n    }\n}\n\nexport const bookingTicketAction = (objectDatVe) => {\n    console.log(objectDatVe);\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + `/QuanLyDatVe/DatVe`,\n            method: 'POST',\n            data: objectDatVe,\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(settings.token)\n            }\n        }).then(result => {\n            dispatch({\n                type: types.DAT_VE,\n                datVeResult: result.data,\n                objectDatVe: objectDatVe\n            })\n            \n        }).catch(errors => {\n            // console.log(errors.response.data);\n        })\n    }\n}\n\n\nexport const cancelTicketAction = (objectHuyVe) => {\n    console.log(objectHuyVe);\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + `/QuanLyDatVe/HuyVe`,\n            method: 'PUT',\n            data: objectHuyVe,\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(settings.token)\n            }\n        }).then(result => {\n            console.log(result);\n            dispatch({\n                type: types.HUY_VE,\n                objectHuyVe: objectHuyVe,\n                cancelTicket: result.data\n            })\n        }).catch(errors => {\n            // console.log(errors.response.data);\n        })\n    }\n}\n\n// Put danh sách ghế đang đặt\nexport const putListGheDangDatAction = (objectGheDangDat) => {\n    return dispatch => {\n        axios({\n            url: settings.domainLocal + `/QuanLyDatVe/PutDanhSachVeDangDat`,\n            method: 'POST',\n            data: objectGheDangDat\n        }).then(result => {\n            console.log(\"putListGheDangDatAction\", result.data);\n            dispatch({\n                type: types.PUT_DANH_SACH_GHE_DANG_DAT,\n                resultPutDSGheDangDat: result.data\n            })\n        }).catch((errors) => {\n            // console.log(errors.response.data);\n        })\n    }\n}\n\n// Cập nhật loại ghế\nexport const capNhatLoaiGheAction = (mangGheCapNhat) => {\n    return dispatch => {\n      axios({\n        url: settings.domainLocal + `/CumRap/CapNhatLoaiGhe`,\n        method: 'Put',\n        data: mangGheCapNhat\n      }).then(result => {\n        console.log(\"capNhatLoaiGheAction\", result.data);\n        dispatch({\n          type: types.CAP_NHAT_LOAI_GHE,\n          resultCapNhatLoaiGhe: result.data\n        })\n      }).catch((errors) => {\n        // console.log(errors.response.data);\n      })\n    }\n  }"]},"metadata":{},"sourceType":"module"}