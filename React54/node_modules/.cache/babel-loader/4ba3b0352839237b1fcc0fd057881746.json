{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\React54\\\\src\\\\components\\\\layoutAdmin\\\\TheaterManage\\\\RapManage.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getRapListAction } from '../../../redux/actions/TheaterSystemManageAction';\nimport moment from 'moment';\nimport { Tag, Button, Table, Modal, message, Checkbox, Icon, Dropdown, Menu, Form, Input, DatePicker, TimePicker, Spin, Select } from 'antd';\nimport { compose } from 'redux';\nimport { disabledDate } from '../../../common/common';\nimport { getMovieListAction } from '../../../redux/actions/MovieManageAction';\nimport { createLichChieuAction } from '../../../redux/actions/BookingManageAction';\nconst {\n  Option\n} = Select;\nconst dateFormat = \"DD/MM/YYYY\";\n\nclass RapManage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openModalThemGhe = maRap => {\n      this.props.history.push('/admin/themghe/' + maRap);\n    };\n\n    this.openModalThemLichChieu = record => {\n      this.setState({\n        visible: true,\n        maRapCurrent: record.MaRap\n      });\n    };\n\n    this.menu = record => /*#__PURE__*/_jsxDEV(Menu, {\n      children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"unordered-list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => this.openModalThemGhe(record.MaRap),\n            children: \"Th\\xEAm danh s\\xE1ch gh\\u1EBF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), record.SoGhe > 0 ? /*#__PURE__*/_jsxDEV(Menu.Item, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"span__title__icon\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            type: \"clock-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => this.openModalThemLichChieu(record),\n            children: \"Th\\xEAm l\\u1ECBch chi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this);\n\n    this.columns = [{\n      title: 'MÃ RẠP',\n      dataIndex: 'MaRap',\n      align: 'center'\n    }, {\n      title: 'TÊN RẠP',\n      dataIndex: 'TenRap',\n      align: 'center'\n    }, {\n      title: 'SỐ GHẾ',\n      dataIndex: 'SoGhe',\n      align: 'center',\n      render: SoGhe => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: SoGhe === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Ch\\u01B0a c\\xF3 DS gh\\u1EBF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 36\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: SoGhe\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, {\n      title: 'Action',\n      key: 'operation',\n      width: 100,\n      align: 'center',\n      render: record => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          overlay: this.menu(record),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [/*#__PURE__*/_jsxDEV(Tag, {\n              color: \"#f50\",\n              children: \"More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Icon, {\n              type: \"down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }];\n\n    this.handleSubmitTaoLC = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (err) {\n          return;\n        } else {\n          const finalValues = { ...values,\n            'NgayChieu': values['NgayChieu'].format('YYYY-MM-DD'),\n            'GioChieu': values['GioChieu'].format('HH:mm')\n          };\n          let objectLichChieu = {\n            MaPhim: finalValues.MaPhim,\n            NgayChieuGioChieu: finalValues.NgayChieu + ' ' + finalValues.GioChieu,\n            MaRap: finalValues.MaRap,\n            GiaVe: finalValues.GiaVe,\n            GiamGia: parseInt(finalValues.GiamGia)\n          };\n\n          if (objectLichChieu) {\n            this.props.createLichChieu(objectLichChieu);\n          }\n\n          console.log(\"LC\", objectLichChieu);\n        }\n      });\n    };\n\n    this.handleOnChangeGiaVe = e => {\n      console.log('giaVeThuc', e.target.value);\n      this.setState({\n        giaVeThuc: e.target.value\n      });\n    };\n\n    this.handleOnChangeGiamGia = GiamGia => {\n      console.log('mucGiamGia', GiamGia);\n      this.setState({\n        mucGiamGia: GiamGia / 100\n      });\n    };\n\n    this.handleCancel = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n      this.props.form.resetFields();\n    };\n\n    this.state = {\n      maCumRap: this.props.match.params.MaCumRap,\n      visible: false,\n      maRapCurrent: 0,\n      giaVeDaGiam: 0,\n      giaVeThuc: 0,\n      mucGiamGia: 0\n    };\n  }\n\n  componentDidMount() {\n    this.props.getRapList(this.state.maCumRap);\n    this.props.getMovieList();\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        span: 7\n      },\n      wrapperCol: {\n        span: 16\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        onRow: (record, rowIndex) => {\n          return {\n            onDoubleClick: event => {\n              this.props.history.push('/admin/ghemanage/' + record.MaRap);\n            } // double click row                      \n\n          };\n        },\n        title: () => 'DANH SÁCH CÁC RẠP CỦA CỤM RẠP ' + this.props.thongTinCumRap.TenCumRap,\n        rowKey: record => record.MaRap,\n        columns: this.columns,\n        dataSource: this.props.danhSachRap,\n        size: \"middle\",\n        bordered: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Th\\xEAm l\\u1ECBch chi\\u1EBFu\",\n        visible: this.state.visible // onOk={this.handleOk}\n        ,\n        onCancel: this.handleCancel,\n        footer: null,\n        children: /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n          onSubmit: this.handleSubmitTaoLC,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"M\\xE3 Phim\",\n            children: getFieldDecorator('MaPhim', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập ngày chiếu phim !'\n              }]\n            })( /*#__PURE__*/_jsxDEV(Select, {\n              placeholder: \"Ch\\u1ECDn phim\",\n              children: this.props.movieArray.map((movie, i) => {\n                if (!movie.DaXoa && movie.KhoiChieu) {\n                  return /*#__PURE__*/_jsxDEV(Option, {\n                    value: movie.MaPhim,\n                    children: movie.TenPhim\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 53\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Ng\\xE0y Chi\\u1EBFu\",\n            children: getFieldDecorator('NgayChieu', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập ngày chiếu phim !'\n              }],\n              initialValue: moment(moment(), dateFormat)\n            })( /*#__PURE__*/_jsxDEV(DatePicker, {\n              format: dateFormat,\n              disabledDate: disabledDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Gi\\u1EDD Chi\\u1EBFu\",\n            children: getFieldDecorator('GioChieu', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập giờ chiếu phim !'\n              }] // initialValue: this.state.maPhim ? moment(movie.NgayKhoiChieu, dateFormat) : moment(undefined),\n\n            })( /*#__PURE__*/_jsxDEV(TimePicker, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"C\\u1EE5m R\\u1EA1p\",\n            children: getFieldDecorator('MaCumRap', {\n              rules: [{\n                required: true,\n                message: 'Hãy chọn mã cụm rạp !'\n              }],\n              initialValue: this.state.maCumRap\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"R\\u1EA1p\",\n            children: getFieldDecorator('MaRap', {\n              rules: [{\n                required: true,\n                message: 'Hãy chọn rạp !'\n              }],\n              initialValue: this.state.maRapCurrent\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Gi\\xE1 V\\xE9 Ban \\u0110\\u1EA7u\",\n            children: getFieldDecorator('GiaVeThuc', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập giá vé!'\n              }] // initialValue: this.state.maPhim ? moment(movie.NgayKhoiChieu, dateFormat) : moment(undefined),\n\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              onChange: this.handleOnChangeGiaVe\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Gi\\u1EA3m gi\\xE1\",\n            children: getFieldDecorator('GiamGia', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập mức giảm giá!'\n              }],\n              initialValue: 0\n            })( /*#__PURE__*/_jsxDEV(Select, {\n              onChange: this.handleOnChangeGiamGia,\n              children: [/*#__PURE__*/_jsxDEV(Option, {\n                value: \"0\",\n                children: \"0%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"5\",\n                children: \"5%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"10\",\n                children: \"10%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"15\",\n                children: \"15%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Option, {\n                value: \"20\",\n                children: \"20%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...formItemLayout,\n            label: \"Gi\\xE1 V\\xE9 \\u0110\\xE3 Gi\\u1EA3m\",\n            children: getFieldDecorator('GiaVe', {\n              rules: [{\n                required: true,\n                message: 'Hãy nhập giá vé !'\n              }],\n              initialValue: this.state.giaVeThuc - this.state.giaVeThuc * this.state.mucGiamGia\n            })( /*#__PURE__*/_jsxDEV(Input, {\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 32\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"mr-4\",\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              onClick: () => this.handleCancel(),\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    danhSachRap: state.TheaterSystemManageReducer.danhSachRap,\n    thongTinCumRap: state.TheaterSystemManageReducer.thongTinCumRap,\n    movieArray: state.MovieManageReducer.movieArray\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getRapList: maCumRap => {\n      dispatch(getRapListAction(maCumRap));\n    },\n    getMovieList: () => {\n      dispatch(getMovieListAction());\n    },\n    createLichChieu: lichChieu => {\n      dispatch(createLichChieuAction(lichChieu));\n    }\n  };\n};\n\nexport default withRouter(compose(Form.create(), connect(mapStateToProps, mapDispatchToProps))(RapManage));","map":{"version":3,"sources":["C:/Users/Acer/Desktop/React54/src/components/layoutAdmin/TheaterManage/RapManage.jsx"],"names":["React","Component","connect","withRouter","getRapListAction","moment","Tag","Button","Table","Modal","message","Checkbox","Icon","Dropdown","Menu","Form","Input","DatePicker","TimePicker","Spin","Select","compose","disabledDate","getMovieListAction","createLichChieuAction","Option","dateFormat","RapManage","constructor","props","openModalThemGhe","maRap","history","push","openModalThemLichChieu","record","setState","visible","maRapCurrent","MaRap","menu","SoGhe","columns","title","dataIndex","align","render","key","width","handleSubmitTaoLC","e","preventDefault","form","validateFields","err","values","finalValues","format","objectLichChieu","MaPhim","NgayChieuGioChieu","NgayChieu","GioChieu","GiaVe","GiamGia","parseInt","createLichChieu","console","log","handleOnChangeGiaVe","target","value","giaVeThuc","handleOnChangeGiamGia","mucGiamGia","handleCancel","resetFields","state","maCumRap","match","params","MaCumRap","giaVeDaGiam","componentDidMount","getRapList","getMovieList","getFieldDecorator","formItemLayout","labelCol","span","wrapperCol","rowIndex","onDoubleClick","event","thongTinCumRap","TenCumRap","danhSachRap","rules","required","movieArray","map","movie","i","DaXoa","KhoiChieu","TenPhim","initialValue","mapStateToProps","TheaterSystemManageReducer","MovieManageReducer","mapDispatchToProps","dispatch","lichChieu","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { getRapListAction } from '../../../redux/actions/TheaterSystemManageAction'\n\nimport moment from 'moment'\nimport { Tag, Button, Table, Modal, message, Checkbox, Icon, Dropdown, Menu, Form, Input, DatePicker, TimePicker, Spin, Select } from 'antd';\nimport { compose } from 'redux';\nimport { disabledDate } from '../../../common/common';\nimport { getMovieListAction } from '../../../redux/actions/MovieManageAction'\nimport { createLichChieuAction } from '../../../redux/actions/BookingManageAction'\n\nconst { Option } = Select;\nconst dateFormat = \"DD/MM/YYYY\";\n\nclass RapManage extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            maCumRap: this.props.match.params.MaCumRap,\n            visible: false,\n            maRapCurrent: 0,\n            giaVeDaGiam: 0,\n            giaVeThuc: 0,\n            mucGiamGia: 0\n        }\n    }\n\n    componentDidMount() {\n        this.props.getRapList(this.state.maCumRap);\n        this.props.getMovieList();\n    }\n\n    openModalThemGhe = (maRap) => {\n        this.props.history.push('/admin/themghe/' + maRap)\n    }\n\n    openModalThemLichChieu = (record) => {\n        this.setState({\n            visible: true,\n            maRapCurrent: record.MaRap\n        })\n    }\n\n    menu = (record) => (\n        <Menu >\n            <Menu.Item key=\"1\">\n                <span className=\"span__title__icon\">\n                    <Icon type=\"unordered-list\" />\n                    <span onClick={() => this.openModalThemGhe(record.MaRap)}>Thêm danh sách ghế</span>\n                </span>\n            </Menu.Item>\n\n            {record.SoGhe > 0 ?\n                <Menu.Item key=\"2\">\n                    <span className=\"span__title__icon\">\n                        <Icon type=\"clock-circle\" />\n                        <span onClick={() => this.openModalThemLichChieu(record)}>Thêm lịch chiếu</span>\n                    </span>\n                </Menu.Item>\n                : ''\n            }\n        </Menu>\n    );\n\n    columns = [\n        {\n            title: 'MÃ RẠP',\n            dataIndex: 'MaRap',\n            align: 'center'\n        },\n        {\n            title: 'TÊN RẠP',\n            dataIndex: 'TenRap',\n            align: 'center'\n        },\n        {\n            title: 'SỐ GHẾ',\n            dataIndex: 'SoGhe',\n            align: 'center',\n            render: (SoGhe) => (\n                <div className=\"d-flex justify-content-center\">\n                    {SoGhe === 0 ? <span>Chưa có DS ghế</span> : <span>{SoGhe}</span>}\n                </div>\n            )\n        },\n        {\n            title: 'Action',\n            key: 'operation',\n            width: 100,\n            align: 'center',\n            render: (record) => (\n                <div className=\"d-flex justify-content-center\">\n                    {/* </Popconfirm> */}\n                    <Dropdown overlay={this.menu(record)}>\n                        <a ><Tag color=\"#f50\">More</Tag><Icon type=\"down\" /></a>\n                        {/* <Button className=\"button__title__icon\" icon=\"down\" size={\"small\"}></Button> */}\n                    </Dropdown>\n                </div>\n            ),\n        },\n    ];\n\n    handleSubmitTaoLC = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (err) {\n                return;\n            }\n            else {\n                const finalValues = {\n                    ...values,\n                    'NgayChieu': values['NgayChieu'].format('YYYY-MM-DD'),\n                    'GioChieu': values['GioChieu'].format('HH:mm'),\n                };\n                let objectLichChieu = {\n                    MaPhim: finalValues.MaPhim,\n                    NgayChieuGioChieu: finalValues.NgayChieu + ' ' + finalValues.GioChieu,\n                    MaRap: finalValues.MaRap,\n                    GiaVe: finalValues.GiaVe,\n                    GiamGia: parseInt(finalValues.GiamGia)\n                }\n                if (objectLichChieu) {\n                    this.props.createLichChieu(objectLichChieu);\n                }\n                console.log(\"LC\", objectLichChieu);\n            }\n        });\n    }\n\n    handleOnChangeGiaVe = (e) => {\n        console.log('giaVeThuc', e.target.value);\n        this.setState({\n            giaVeThuc: e.target.value\n        })\n    }\n\n    handleOnChangeGiamGia = (GiamGia) => {\n        console.log('mucGiamGia', GiamGia);\n        this.setState({\n            mucGiamGia: GiamGia / 100\n        })\n    }\n\n    handleCancel = (e) => {\n        console.log(e);\n        this.setState({\n            visible: false,\n        });\n        this.props.form.resetFields();\n    }\n\n    render() {\n        const { getFieldDecorator } = this.props.form;\n        const formItemLayout = {\n            labelCol: { span: 7 },\n            wrapperCol: { span: 16 },\n        };\n        return (\n            <div>\n                <Table\n                    onRow={(record, rowIndex) => {\n                        return {\n                            onDoubleClick: event => { this.props.history.push('/admin/ghemanage/' + record.MaRap) }, // double click row                      \n                        };\n                    }}\n                    title={() => 'DANH SÁCH CÁC RẠP CỦA CỤM RẠP ' + this.props.thongTinCumRap.TenCumRap} rowKey={record => record.MaRap} columns={this.columns} dataSource={this.props.danhSachRap} size=\"middle\" bordered />\n                <Modal\n                    title=\"Thêm lịch chiếu\"\n                    visible={this.state.visible}\n                    // onOk={this.handleOk}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                >\n                    <Form {...formItemLayout} onSubmit={this.handleSubmitTaoLC}>\n                        <Form.Item {...formItemLayout} label=\"Mã Phim\">\n                            {getFieldDecorator('MaPhim', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập ngày chiếu phim !',\n                                    },\n                                ]\n                            })(\n                                <Select placeholder=\"Chọn phim\">\n                                    {\n                                        this.props.movieArray.map((movie, i) => {\n                                            if (!movie.DaXoa && movie.KhoiChieu) {\n                                                return (\n                                                    <Option key={i} value={movie.MaPhim}>{movie.TenPhim}</Option>\n                                                )\n                                            }\n                                        })\n                                    }\n                                </Select>\n                            )}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Ngày Chiếu\" >\n                            {getFieldDecorator('NgayChieu', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập ngày chiếu phim !',\n                                    },\n                                ],\n                                initialValue: moment(moment(), dateFormat)\n                            })(<DatePicker format={dateFormat} disabledDate={disabledDate} />)}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Giờ Chiếu\" >\n                            {getFieldDecorator('GioChieu', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập giờ chiếu phim !',\n                                    },\n                                ],\n                                // initialValue: this.state.maPhim ? moment(movie.NgayKhoiChieu, dateFormat) : moment(undefined),\n                            })(<TimePicker />)}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Cụm Rạp\" >\n                            {getFieldDecorator('MaCumRap', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy chọn mã cụm rạp !',\n                                    },\n                                ],\n                                initialValue: this.state.maCumRap,\n                            })(\n                                <Input disabled></Input>\n                            )}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Rạp\" >\n                            {getFieldDecorator('MaRap', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy chọn rạp !',\n                                    },\n                                ],\n                                initialValue: this.state.maRapCurrent,\n                            })(\n                                <Input disabled></Input>\n                            )}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Giá Vé Ban Đầu\" >\n                            {getFieldDecorator('GiaVeThuc', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập giá vé!',\n                                    },\n                                ],\n                                // initialValue: this.state.maPhim ? moment(movie.NgayKhoiChieu, dateFormat) : moment(undefined),\n                            })(<Input onChange={this.handleOnChangeGiaVe} />)}\n                        </Form.Item>\n\n                        <Form.Item {...formItemLayout} label=\"Giảm giá\" >\n                            {getFieldDecorator('GiamGia', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập mức giảm giá!',\n                                    },\n                                ],\n                                initialValue: 0\n                            })(\n                                <Select onChange={this.handleOnChangeGiamGia}>\n                                    <Option value=\"0\">0%</Option>\n                                    <Option value=\"5\">5%</Option>\n                                    <Option value=\"10\">10%</Option>\n                                    <Option value=\"15\">15%</Option>\n                                    <Option value=\"20\">20%</Option>\n                                </Select>\n                            )}\n                        </Form.Item>\n                        <Form.Item {...formItemLayout} label=\"Giá Vé Đã Giảm\" >\n                            {getFieldDecorator('GiaVe', {\n                                rules: [\n                                    {\n                                        required: true,\n                                        message: 'Hãy nhập giá vé !',\n                                    },\n                                ],\n                                initialValue: this.state.giaVeThuc - this.state.giaVeThuc * this.state.mucGiamGia,\n                            })(<Input disabled />)}\n                        </Form.Item>\n                        <div className=\"text-center\">\n                            <Button className=\"mr-4\" type=\"primary\" htmlType=\"submit\">\n                                Submit\n                            </Button>\n                            <Button type=\"primary\" htmlType=\"submit\" onClick={() => this.handleCancel()}>\n                                Hủy\n                            </Button>\n                        </div>\n                    </Form>\n                </Modal>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        danhSachRap: state.TheaterSystemManageReducer.danhSachRap,\n        thongTinCumRap: state.TheaterSystemManageReducer.thongTinCumRap,\n        movieArray: state.MovieManageReducer.movieArray\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getRapList: (maCumRap) => {\n            dispatch(getRapListAction(maCumRap))\n        },\n        getMovieList: () => {\n            dispatch(getMovieListAction())\n        },\n        createLichChieu: (lichChieu) => {\n            dispatch(createLichChieuAction(lichChieu))\n        },\n    }\n}\n\nexport default (withRouter)(compose(Form.create(), connect(mapStateToProps, mapDispatchToProps))(RapManage));"]},"metadata":{},"sourceType":"module"}